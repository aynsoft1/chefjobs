{HEADER_HTML}
{HEADER_MIDDLE_HTML}
<script src='https://www.google.com/recaptcha/api.js'></script>
<script src="{INFO_TEXT_JSCRIPT_FILE}"></script>

<!-- input tel country code -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/intl-tel-input@19.2.16/build/css/intlTelInput.css">
<script src="https://cdn.jsdelivr.net/npm/intl-tel-input@19.2.16/build/js/intlTelInput.min.js"></script>

<SCRIPT LANGUAGE="JavaScript">
	function popUp(URL) 
	{
		day = new Date();
		id = day.getTime();
		eval("page" + id + " = window.open(URL, '" + id + "', 'toolbar=0,scrollbars=1,location=0,statusbar=0,menubar=0,resizable=1,width=600,height=400,left = 0,top = 0');");
	}
</script>
<style>
    .displayNone {
        display: none;
    }
</style>
<script>
    window.setTimeout(function() {
       $(".alert").fadeTo(500, 0).slideUp(500, function(){
           $(this).remove();
        $( ".messageStackSuccess" ).addClass( "displayNone" 

);
        // $messageStackSuccess
       });
   }, 50000);
</script>

<div class="container">
	<div class="row">
		<!-- Left Starts -->
		{LEFT_HTML}
		<!-- Left Ends --> 
		<!-- <div class="col-md-9"> -->
		<div class="col-md-6 mx-auto">
		{update_message}
			<div class="card card-custom">
				<div class="card-header">
					<div class="mx-auto d-flex align-items-center m-dblock">
						<h1 class="mb-1">{INFO_TEXT_CREATE_ACCOUNT}</h1>
					 </div>
					 <div class="">{ALREADY_MEMBER}</div>
				</div>
				
				<div class="card-body card-body-custom">
					
					
					{COUNTRY_STATE_SCRIPT}
					{registration_form}
					
					
					<p class="label-text">{SECTION_ACCOUNT_DETAILS}</p>
					
					{INFO_TEXT_EMAIL_ADDRESS1}
					{password_data}
					
					<p class="label-text m-m-t-10">{SECTION_CONTACT_DETAILS}</p>
					<div class="row">
						<div class="col-md-6">{INFO_TEXT_FIRST_NAME1}</div>
						<div class="col-md-6">{INFO_TEXT_LAST_NAME1}</div>
					</div>
					
					{INFO_TEXT_FULL_ADDRESS1}
					
					<div class="row">
						<div class="col-md-6">{INFO_TEXT_COUNTRY1}</div>
						<div class="col-md-6">{INFO_TEXT_STATE1}</div>
						<div class="col-md-6">{INFO_TEXT_CITY1}</div>
						<div class="col-md-6">{INFO_TEXT_ZIP1}</div>
						<div class="col-md-6">{INFO_TEXT_HOME_PHONE1}</div>
						<div class="col-md-6">{INFO_TEXT_MOBILE1}</div>
					</div>
					<div class="pt-2">{resume_data}</div>
					<p class="label-text">{SECTION_ACCOUNT_PRIVACY}</p>
					{INFO_TEXT_PRIVACY1}
					
					<p class="label-text mt-3">resume searchable?</p>
					<span class="d-flex">{INFO_TEXT_RESUME_SEARCHEABLE1}</span>
					
					<!--<p class="label-text mt-3">{INFO_TEXT_NEWS_LETTER}</p>-->
					<div class="my-3 d-flex">{INFO_TEXT_NEWS_LETTER1}</div>
					<div>{google_captcha}</div>
					<small id="emailHelp" class="text-muted font-14">{INFO_TEXT_AGREEMENT}</small>
				</div>
				<div class="card-footer bg-white card-footer-custom">
					<div class="text-center">{add_save_button}</div>
					<div class="">{INFO_TEXT_SOCIAL_BUTTON}</div>
				</div>
			</form>
		</div>
	</div>
</div>
</div>
<script>
	const input = document.querySelector("#TR_telephone_number");
	let defaultCode = "{DEFAULT_CODE}";

	const defaultPhoneCountry = document.getElementById('phoneCountry');

	if (defaultPhoneCountry.value.length > 0) {
		defaultCode = defaultPhoneCountry.value;
	}

	iti = window.intlTelInput(input, {
		utilsScript: "https://cdn.jsdelivr.net/npm/intl-tel-input@19.2.16/build/js/utils.js",
		initialCountry: defaultCode
	});

	// while initial load
	const countryCode = iti.getSelectedCountryData();
	document.getElementById("phoneCode").value = "+" + countryCode.dialCode;
	document.getElementById("phoneCountry").value = countryCode.iso2;

	// while event chagne
	input.addEventListener("countrychange", function () {
		const countryCode = iti.getSelectedCountryData();
		document.getElementById("phoneCode").value = "+" + countryCode.dialCode;
		document.getElementById("phoneCountry").value = countryCode.iso2;
	});

	document.addEventListener('DOMContentLoaded', function() {
    var stateDropdown = document.getElementById('state');
    var cityDropdown = document.getElementById('location');

    if (!stateDropdown || !cityDropdown) {
        console.error("State or City dropdown element not found");
        return;
    }

    stateDropdown.addEventListener('change', function() {
        var stateId = this.value;

        if (!stateId) {
            cityDropdown.innerHTML = '<option value="">City</option>';
            return;
        }

        var xhr = new XMLHttpRequest();
        xhr.open('GET', '../api/fetch_cities.php?state_id=' + stateId, true);
        xhr.onload = function() {
            if (xhr.status === 200) {
                try {
                    var cities = JSON.parse(xhr.responseText);
                    var options = '<option value="">City</option>';

                    cities.forEach(function(city) {
                        options += '<option value="' + city.city_name + '">' + city.city_name + '</option>';
                    });

                    cityDropdown.innerHTML = options;
                } catch (e) {
                    console.error("Error parsing JSON:", e);
                }
            } else {
                console.error("Failed to fetch cities:", xhr.statusText);
            }
        };
        xhr.onerror = function() {
            console.error("Request failed");
        };
        xhr.send();
    });
});
</script>
{FOOTER_HTML}